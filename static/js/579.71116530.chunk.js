"use strict";(self.webpackChunkcafeone=self.webpackChunkcafeone||[]).push([[579],{112:function(e,s,t){var l=t(182),a=(t(7313),t(6417));s.Z=function(e){var s=e.title,t=void 0===s?"":s,n=e.description,i=void 0===n?"":n,d=e.children,r=void 0===d?null:d;return(0,a.jsxs)(l.q,{children:[t&&(0,a.jsx)("title",{children:t}),i&&(0,a.jsx)("meta",{name:"description",content:i}),r&&r]})}},579:function(e,s,t){t.r(s);var l=t(4942),a=t(1413),n=t(885),i=t(7313),d=t(8303),r=t(3849),c=t(1616),o=t(7533),m=t(3298),x=t(9600),h=t(975),u=t(5668),j=t(3060),p=t(9582),f=t(8804),N=t(1419),b=t(4030),v=t(112),Z=t(6023),g=t(8074),y=(t(2632),t(6352)),w=t(6834),C=t(9429),S=t(6031),A=t(3560),k=(t(8282),t(3145)),E=t(3295),L=t(816),R=t.n(L),B=t(5271),T=t(6417),q=(0,i.forwardRef)((function(e,s){var t=(0,y.v9)((function(e){return e.admins.items}));return(0,T.jsx)("div",{ref:s,style:{padding:"20px"},children:(0,T.jsxs)("table",{align:"left",border:"1",cellSpacing:"5",cellPadding:"15",style:{border:"1px solid #ccc"},children:[(0,T.jsx)("thead",{className:"",children:(0,T.jsxs)("tr",{align:"left",children:[(0,T.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-muted text-medium",children:"NAME"})}),(0,T.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-muted text-medium ",children:"Email"})}),(0,T.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-muted text-medium ",children:"Role"})}),(0,T.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-muted text-medium ",children:"Status"})}),(0,T.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-muted text-medium ",children:"Date created"})})]})}),(0,T.jsx)("tbody",{children:t.map((function(e){return(0,T.jsxs)("tr",{className:"mb-2",children:[(0,T.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsxs)("div",{className:"text-alternate ",children:[e.firstName," ",e.lastName]})}),(0,T.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-alternate",children:(0,T.jsx)("span",{children:e.email})})}),(0,T.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{className:"text-alternate",children:e.roleName})}),(0,T.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{children:e.isActive?"Active":"Inactive"})}),(0,T.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,T.jsx)("div",{children:R()(e.dateCreated).format("llll")})})]},e.id)}))})]})})}));s.default=function(){var e=(0,i.useRef)(),s=(0,E.useReactToPrint)({content:function(){return e.current}}),t=(0,i.useState)(!1),L=(0,n.Z)(t,2),I=L[0],z=L[1],P=(0,y.I0)(),D="Admins List",F=(0,i.useState)([]),M=(0,n.Z)(F,2),H=M[0],_=M[1],U=(0,y.v9)((function(e){return e.admins.items})),O=(0,y.v9)((function(e){return e.admins.total})),V=(0,y.v9)((function(e){return e.admins.status})),G=(0,y.v9)((function(e){return e.admins.roles})),J=i.useState(!1),K=(0,n.Z)(J,2),Q=K[0],W=K[1],X=(0,i.useState)(1),Y=(0,n.Z)(X,2),$=Y[0],ee=Y[1],se=(0,i.useState)(""),te=(0,n.Z)(se,2),le=te[0],ae=te[1],ne=(0,i.useState)(!1),ie=(0,n.Z)(ne,2),de=ie[0],re=ie[1],ce=(0,i.useState)(!1),oe=(0,n.Z)(ce,2),me=oe[0],xe=oe[1],he=(0,i.useState)(!1),ue=(0,n.Z)(he,2),je=ue[0],pe=ue[1],fe=(0,i.useState)({}),Ne=(0,n.Z)(fe,2),be=Ne[0],ve=Ne[1];i.useEffect((function(){P((0,B.v5)($,le)),P((0,B.F3)())}),[P,$,le]);var Ze=w.Ry().shape({email:w.Z_().email().required("Email is required"),firstName:w.Z_().required("First name is required"),lastName:w.Z_().required("Last name is required"),role:w.Z_().required("Role is required")}),ge=function(){z(!I)},ye=(0,C.TA)({initialValues:{email:"",firstName:"",lastName:"",role:""},validationSchema:Ze,onSubmit:function(e){W(!0),P((0,B.kA)(e))}}),we=ye.handleSubmit,Ce=ye.handleChange,Se=ye.values,Ae=ye.touched,ke=ye.errors;var Ee=(0,i.useCallback)((0,S.debounce)((function(e){return ae(e)}),1e3),[]);function Le(e){ve((0,a.Z)((0,a.Z)({},be),{},(0,l.Z)({},e.target.name,e.target.value)))}i.useEffect((function(){"success"===V&&(W(!1),z(!1),Se.firstName="",Se.lastName="",Se.role="",Se.email=""),"update"===V&&(W(!1),P((0,B.v5)(1,"")),z(!1)),"error"===V&&W(!1)}),[V,P]),i.useEffect((function(){var e=U.map((function(e){return{cell1:"".concat(e.firstName," ").concat(e.lastName),cell2:e.email,cell3:e.roleName,cell4:e.isActive?"Active":"Inactive",cell5:R()(e.dateCreated).format("llll")}}));_(e)}),[U]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(v.Z,{title:D,description:"Admins List Page"}),(0,T.jsxs)("div",{className:"page-title-container",children:[(0,T.jsx)("div",{style:{display:"none"},children:(0,T.jsx)(q,{ref:e})}),(0,T.jsx)(r.Z,{className:"g-0",children:(0,T.jsxs)(c.Z,{className:"col-auto mb-3 mb-sm-0 me-auto",children:[(0,T.jsxs)(d.OL,{className:"muted-link pb-1 d-inline-block hidden breadcrumb-back",to:"/",children:[(0,T.jsx)(Z.Z,{icon:"chevron-left",size:"13"}),(0,T.jsx)("span",{className:"align-middle text-small ms-1",children:"Home"})]}),(0,T.jsx)("h1",{className:"mb-0 pb-0 display-4",id:"title",children:D})]})})]}),(0,T.jsxs)(r.Z,{className:"mb-3 justify-content-between",children:[(0,T.jsxs)(c.Z,{md:"5",lg:"6",xxl:"6",className:"mb-1 d-flex align-items-center",children:[(0,T.jsxs)("div",{className:"d-inline-block float-md-start me-4 mb-1 search-input-container w-100 shadow bg-foreground",children:[(0,T.jsx)(o.Z.Control,{type:"search",placeholder:"Search",onChange:function(e){return function(e){Ee(e.target.value)}(e)}}),(0,T.jsx)("span",{className:"search-magnifier-icon",children:(0,T.jsx)(Z.Z,{icon:"search"})}),(0,T.jsx)("span",{className:"search-delete-icon d-none",children:(0,T.jsx)(Z.Z,{icon:"close"})})]}),(0,T.jsxs)(m.Z,{variant:"outline-primary",className:"btn-icon btn-icon-start w-100 w-md-auto mb-1",onClick:function(){return xe(!0),pe(!1),re(!1),void ge()},children:[(0,T.jsx)(Z.Z,{icon:"plus"})," ",(0,T.jsx)("span",{children:"Add Admin"})]})]}),(0,T.jsxs)(c.Z,{md:"7",lg:"6",xxl:"6",className:"mb-1 text-end",children:[(0,T.jsxs)(x.Z,{align:{xs:"end"},className:"d-inline-block ms-1",children:[(0,T.jsx)(h.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,T.jsx)(u.Z,{id:"tooltip-top",children:"Export "}),children:(0,T.jsx)(x.Z.Toggle,{variant:"foreground-alternate",className:"dropdown-toggle-no-arrow btn btn-icon btn-icon-only shadow",children:(0,T.jsx)(Z.Z,{icon:"download"})})}),(0,T.jsxs)(x.Z.Menu,{className:"shadow dropdown-menu-end",children:[(0,T.jsxs)(x.Z.Item,{href:"#",children:[" ",(0,T.jsx)(k.Z,{filename:"admins",extension:".csv",separator:",",wrapColumnChar:"",columns:[{id:"cell1",displayName:"NAME"},{id:"cell2",displayName:"EMAIL"},{id:"cell3",displayName:"ROLE"},{id:"cell4",displayName:"STATUS"},{id:"cell5",displayName:"DATE CREATED"}],datas:H,children:"Export csv"})]}),(0,T.jsx)(x.Z.Item,{onClick:s,children:"Export pdf"})]})]}),(0,T.jsx)(x.Z,{align:{xs:"end"},className:"d-inline-block ms-1",children:(0,T.jsx)(h.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,T.jsx)(u.Z,{id:"tooltip-top",children:"Item Count"}),children:(0,T.jsxs)(x.Z.Toggle,{variant:"foreground-alternate",className:"shadow sw-13",children:[O," ",O>1?"items":"item"]})})})]})]}),(0,T.jsxs)(r.Z,{className:"g-0 h-100 align-content-center d-none d-lg-flex ps-5 pe-5 mb-2 mt-5",children:[(0,T.jsx)(c.Z,{md:"3",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"NAME"})}),(0,T.jsx)(c.Z,{md:"3",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"Email"})}),(0,T.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"Role"})}),(0,T.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"Status"})}),(0,T.jsx)(c.Z,{md:"1",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"Toggle"})}),(0,T.jsx)(c.Z,{md:"1",className:"d-flex flex-column pe-1 justify-content-center",children:(0,T.jsx)("span",{className:"text-muted text-small cursor-pointer ",children:"Action"})})]}),U.map((function(e){return(0,T.jsx)(j.Z,{className:"mb-2",children:(0,T.jsx)(j.Z.Body,{className:"pt-md-0 pb-md-0 sh-auto sh-md-8",children:(0,T.jsxs)(r.Z,{className:"g-0 h-100 align-content-center cursor-default",children:[(0,T.jsxs)(c.Z,{xs:"12",md:"3",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-1 order-md-2",children:[(0,T.jsx)("div",{className:"text-muted text-small d-md-none",children:"Name"}),(0,T.jsxs)("div",{className:"text-alternate dflex align-items-center",children:[e.firstName," ",e.lastName]})]}),(0,T.jsxs)(c.Z,{xs:"12",md:"3",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-2 order-md-3",children:[(0,T.jsx)("div",{className:"text-muted text-small d-md-none",children:"Email"}),(0,T.jsx)("div",{className:"text-alternate",children:(0,T.jsx)("span",{children:e.email})})]}),(0,T.jsxs)(c.Z,{xs:"12",md:"2",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-3 order-md-3",children:[(0,T.jsx)("div",{className:"text-muted text-small d-md-none",children:"Role"}),(0,T.jsx)("div",{className:"text-alternate text-capitalize",children:(0,T.jsx)("span",{children:e.roleName.toLowerCase()})})]}),(0,T.jsxs)(c.Z,{xs:"6",md:"2",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-4 order-md-5",children:[(0,T.jsx)("div",{className:"text-muted text-small d-md-none",children:"Status"}),(0,T.jsx)("div",{children:e.isActive?(0,T.jsx)(p.Z,{bg:"outline-primary",children:"Active"}):(0,T.jsx)(p.Z,{bg:"outline-warning",children:"Inactive"})})]}),(0,T.jsxs)(c.Z,{xs:"6",md:"1",className:"d-flex flex-column justify-content-end align-items-md-start mb-2 mb-md-0 order-4 text-md-end order-md-last",children:[(0,T.jsx)("div",{className:"text-muted text-small d-md-none",children:"Toggle Status"}),(0,T.jsx)(o.Z.Switch,{className:"",type:"checkbox",checked:e.isActive,onChange:function(s){!function(e,s){var t=e.target.checked;t||P((0,B.cr)(s)).then((function(e){200===e.status&&(A.Am.success("Status changed"),P((0,B.gR)({id:s,value:t})))})),t&&P((0,B.tZ)(s)).then((function(e){200===e.status&&(A.Am.success("Status changed"),P((0,B.gR)({id:s,value:t})))}))}(s,e.id)}})]}),(0,T.jsx)(c.Z,{xs:"12",md:"1",className:"d-flex flex-column justify-content-center align-items-md-start mb-2 mb-md-0 order-last text-end order-md-last",children:(0,T.jsx)(m.Z,{variant:"primary",type:"button",size:"sm",onClick:function(){return s=e,xe(!1),pe(!0),re(!1),ve(s),void ge();var s},className:"",children:"View"})})]})})},e.id)})),U.length?(0,T.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,T.jsxs)(f.Z,{children:[(0,T.jsx)(f.Z.Prev,{className:"shadow",disabled:1===$,onClick:function(){1!==$&&ee($-1)},children:(0,T.jsx)(Z.Z,{icon:"chevron-left"})}),(0,T.jsx)(f.Z.Next,{className:"shadow",onClick:function(){O<15||ee($+1)},disabled:O<15,children:(0,T.jsx)(Z.Z,{icon:"chevron-right"})})]})}):"",!U.length&&(0,T.jsx)("div",{className:"text-center p-4 text-muted",children:"No admin available"}),(0,T.jsxs)(N.Z,{className:"modal-right scroll-out-negative",show:I,onHide:function(){return z(!1)},scrollable:!0,dialogClassName:"full",children:[(0,T.jsx)(N.Z.Header,{closeButton:!0,children:(0,T.jsxs)(N.Z.Title,{as:"h5",children:[" ",me&&"Add new admin",de&&"Update new admin",je&&"Admin Information"]})}),(0,T.jsx)(N.Z.Body,{children:(0,T.jsxs)(g.E,{options:{overflowBehavior:{x:"hidden",y:"scroll"}},className:"scroll-track-visible",children:[me&&(0,T.jsxs)("form",{onSubmit:we,children:[(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"First name"}),(0,T.jsx)(o.Z.Control,{type:"text",name:"firstName",onChange:Ce,value:Se.firstName}),ke.firstName&&Ae.firstName&&(0,T.jsx)("div",{className:"d-block invalid-tooltip",children:ke.firstName})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Last name"}),(0,T.jsx)(o.Z.Control,{type:"text",id:"lastName",name:"lastName",onChange:Ce,value:Se.lastName}),ke.lastName&&Ae.lastName&&(0,T.jsx)("div",{className:"d-block invalid-tooltip",children:ke.lastName})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Email"}),(0,T.jsx)(o.Z.Control,{type:"email",id:"email",name:"email",onChange:Ce,value:Se.email}),ke.email&&Ae.email&&(0,T.jsx)("div",{className:"d-block invalid-tooltip",children:ke.email})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Roles"}),(0,T.jsxs)(o.Z.Select,{name:"role",onChange:Ce,value:Se.role,placeholder:"Select role",children:[(0,T.jsx)("option",{value:"",disabled:!0,children:"Select role"}),G.map((function(e){return(0,T.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),ke.role&&Ae.role&&(0,T.jsx)("div",{className:"d-block invalid-tooltip",children:ke.role})]}),(0,T.jsx)("div",{className:"border-0 mt-3 mb-5",children:(0,T.jsx)(m.Z,{variant:"primary",type:"submit",disabled:Q,className:"btn-icon btn-icon-start w-100",children:Q?(0,T.jsx)(b.Z,{animation:"border",role:"status",size:"sm",children:(0,T.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})})]}),de&&(0,T.jsxs)("form",{onSubmit:function(e){return function(e){W(!0),e.preventDefault(),P((0,B.aq)(be))}(e)},children:[(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"First name"}),(0,T.jsx)(o.Z.Control,{type:"text",name:"firstName",onChange:function(e){return Le(e)},value:be.firstName})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Last name"}),(0,T.jsx)(o.Z.Control,{type:"text",id:"lastName",name:"lastName",onChange:function(e){return Le(e)},value:be.lastName})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Email"}),(0,T.jsx)(o.Z.Control,{type:"email",id:"email",name:"email",onChange:function(e){return Le(e)},value:be.email})]}),(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)(o.Z.Label,{children:"Roles"}),(0,T.jsxs)(o.Z.Select,{name:"role",onChange:Ce,value:Se.role,placeholder:"Select role",children:[(0,T.jsx)("option",{value:"",disabled:!0,children:"Select role"}),G.map((function(e){return(0,T.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),ke.role&&Ae.role&&(0,T.jsx)("div",{className:"d-block invalid-tooltip",children:ke.role})]}),(0,T.jsx)("div",{className:"border-0 mt-3 mb-5",children:(0,T.jsx)(m.Z,{variant:"primary",type:"submit",disabled:Q,className:"btn-icon btn-icon-start w-100",children:Q?(0,T.jsx)(b.Z,{animation:"border",role:"status",size:"sm",children:(0,T.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Update admin"})})]}),je&&be&&(0,T.jsxs)("div",{className:"",children:[(0,T.jsx)("table",{className:"mb-5",children:(0,T.jsxs)("tbody",{children:[(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom py-2 px-1 border-bottom text-uppercase text-muted",children:" Name"}),(0,T.jsxs)("td",{className:" py-2 px-1 border-bottom",children:[be.firstName," ",be.lastName]})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"Email"}),(0,T.jsx)("td",{className:" py-2 px-1 border-bottom",children:be.email})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"Role"}),(0,T.jsx)("td",{className:" py-2 px-1 border-bottom text-capitalize",children:be.roleName.toLowerCase()})]}),(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"Date created"}),(0,T.jsx)("td",{className:" py-2 px-1 border-bottom",children:R()(be.dateCreated).format("llll")})]})]})}),(0,T.jsx)("div",{className:"text-center",children:(0,T.jsxs)(m.Z,{variant:"outline-danger",size:"sm",className:"btn-icon btn-icon-start  mb-1",onClick:function(){return e=be.id,void(window.confirm("Are you sure?")&&P((0,B.IH)(e)).then((function(e){200===e.status&&(A.Am.success("Admin removed"),P((0,B.v5)($,le)),ge(),xe(!1),pe(!1),re(!1))})));var e},children:[(0,T.jsx)(Z.Z,{icon:"bin",className:"text-small",style:{width:"13px",height:"13px"}})," ",(0,T.jsx)("span",{className:"sr-only",children:"Delete"})]})}),(0,T.jsx)("hr",{className:"my-4"})]})]})})]})]})}},9582:function(e,s,t){var l=t(1413),a=t(5987),n=t(6123),i=t.n(n),d=t(7313),r=t(8524),c=t(6417),o=["bsPrefix","bg","pill","text","className","as"],m=d.forwardRef((function(e,s){var t=e.bsPrefix,n=e.bg,d=e.pill,m=e.text,x=e.className,h=e.as,u=void 0===h?"span":h,j=(0,a.Z)(e,o),p=(0,r.vE)(t,"badge");return(0,c.jsx)(u,(0,l.Z)((0,l.Z)({ref:s},j),{},{className:i()(x,p,d&&"rounded-pill",m&&"text-".concat(m),n&&"bg-".concat(n))}))}));m.displayName="Badge",m.defaultProps={bg:"primary",pill:!1},s.Z=m},4030:function(e,s,t){var l=t(1413),a=t(5987),n=t(6123),i=t.n(n),d=t(7313),r=t(8524),c=t(6417),o=["bsPrefix","variant","animation","size","as","className"],m=d.forwardRef((function(e,s){var t=e.bsPrefix,n=e.variant,d=e.animation,m=e.size,x=e.as,h=void 0===x?"div":x,u=e.className,j=(0,a.Z)(e,o);t=(0,r.vE)(t,"spinner");var p="".concat(t,"-").concat(d);return(0,c.jsx)(h,(0,l.Z)((0,l.Z)({ref:s},j),{},{className:i()(u,p,m&&"".concat(p,"-").concat(m),n&&"text-".concat(n))}))}));m.displayName="Spinner",s.Z=m}}]);