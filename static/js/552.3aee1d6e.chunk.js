"use strict";(self.webpackChunkcafeone=self.webpackChunkcafeone||[]).push([[552],{112:function(e,t,s){var n=s(182),a=(s(7313),s(6417));t.Z=function(e){var t=e.title,s=void 0===t?"":t,l=e.description,c=void 0===l?"":l,i=e.children,r=void 0===i?null:i;return(0,a.jsxs)(n.q,{children:[s&&(0,a.jsx)("title",{children:s}),c&&(0,a.jsx)("meta",{name:"description",content:c}),r&&r]})}},3552:function(e,t,s){s.r(t);var n=s(4942),a=s(1413),l=s(885),c=s(7313),i=s(8303),r=s(3849),d=s(1616),o=s(7533),m=s(3298),x=s(9600),h=s(975),u=s(5668),j=s(3060),p=s(9582),b=s(8804),f=s(1419),v=s(4030),N=s(112),Z=s(6023),g=s(8074),y=s(6352),S=s(6834),w=s(9429),C=s(6031),k=s(3560),B=(s(8282),s(3145)),L=s(3295),A=s(6460),E=s(6417),T=(0,c.forwardRef)((function(e,t){var s=(0,y.v9)((function(e){return e.branches.branches}));return(0,E.jsx)("div",{ref:t,style:{padding:"20px"},children:(0,E.jsxs)("table",{align:"left",border:"1",cellSpacing:"5",cellPadding:"15",style:{border:"1px solid #ccc"},children:[(0,E.jsx)("thead",{className:"",children:(0,E.jsxs)("tr",{align:"left",children:[(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium",children:"NAME"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Location"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Seats"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Status"})})]})}),(0,E.jsx)("tbody",{children:s.map((function(e){return(0,E.jsxs)("tr",{className:"mb-2",children:[(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate ",children:e.name})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate",children:(0,E.jsx)("span",{children:e.location})})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate",children:e.seats})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:e.status})})]},e.id)}))})]})})}));t.default=function(){var e=(0,c.useRef)(),t=(0,L.useReactToPrint)({content:function(){return e.current}}),s="Branches List",I=(0,c.useState)(!1),z=(0,l.Z)(I,2),q=z[0],P=z[1],R=(0,y.v9)((function(e){return e.branches.branches})),_=(0,y.v9)((function(e){return e.branches.status})),O=(0,c.useState)([]),V=(0,l.Z)(O,2),M=V[0],H=V[1],D=c.useState(!1),G=(0,l.Z)(D,2),U=G[0],F=G[1],J=(0,y.I0)(),K=(0,c.useState)(1),Q=(0,l.Z)(K,2),W=Q[0],X=Q[1],Y=(0,c.useState)(""),$=(0,l.Z)(Y,2),ee=$[0],te=$[1],se=(0,c.useState)(!1),ne=(0,l.Z)(se,2),ae=ne[0],le=ne[1],ce=(0,c.useState)(!1),ie=(0,l.Z)(ce,2),re=ie[0],de=ie[1],oe=(0,c.useState)(!1),me=(0,l.Z)(oe,2),xe=me[0],he=me[1],ue=(0,c.useState)({}),je=(0,l.Z)(ue,2),pe=je[0],be=je[1];c.useEffect((function(){J((0,A.C_)(W,ee))}),[J,W,ee]);var fe=S.Ry().shape({name:S.Z_().required("Branch name is required"),location:S.Z_().required("Location name is required"),state:S.Z_().required("State is required"),seats:S.Rx().required("Seat count is required")}),ve=function(){P(!q)},Ne=(0,w.TA)({initialValues:{name:"",location:"",description:"",city:"",state:"",seats:""},validationSchema:fe,onSubmit:function(e){J((0,A.ap)(e)),F(!0)}}),Ze=Ne.handleSubmit,ge=Ne.handleChange,ye=Ne.values,Se=Ne.touched,we=Ne.errors;var Ce=(0,c.useCallback)((0,C.debounce)((function(e){return te(e)}),1e3),[]);function ke(e){be((0,a.Z)((0,a.Z)({},pe),{},(0,n.Z)({},e.target.name,e.target.value)))}c.useEffect((function(){"success"===_&&(P(!1),F(!1),ye.name="",ye.location="",ye.description="",ye.location="",ye.city="",ye.state="",ye.seats=""),"error"===_&&F(!1),"update"===_&&(F(!1),J((0,A.C_)(1,"")),P(!1),be({name:"",location:"",description:"",city:"",state:"",seats:""}))}),[_,J]),c.useEffect((function(){var e=R.map((function(e){return{cell1:e.name,cell2:e.location,cell3:e.seats,cell4:e.state}}));H(e)}),[R]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.Z,{title:s,description:"Branches List Page"}),(0,E.jsxs)("div",{className:"page-title-container",children:[(0,E.jsx)("div",{style:{display:"none"},children:(0,E.jsx)(T,{ref:e})}),(0,E.jsx)(r.Z,{className:"g-0",children:(0,E.jsxs)(d.Z,{className:"col-auto mb-3 mb-sm-0 me-auto",children:[(0,E.jsxs)(i.OL,{className:"muted-link pb-1 d-inline-block hidden breadcrumb-back",to:"/",children:[(0,E.jsx)(Z.Z,{icon:"chevron-left",size:"13"}),(0,E.jsx)("span",{className:"align-middle text-small ms-1",children:"Home"})]}),(0,E.jsx)("h1",{className:"mb-0 pb-0 display-4",id:"title",children:s})]})})]}),(0,E.jsxs)(r.Z,{className:"mb-3",children:[(0,E.jsxs)(d.Z,{md:"5",lg:"4",xxl:"4",className:"mb-1 d-flex align-items-center ",children:[(0,E.jsxs)("div",{className:"d-inline-block float-md-start me-4 mb-1 search-input-container w-100 shadow bg-foreground",children:[(0,E.jsx)(o.Z.Control,{type:"search",placeholder:"Search",onChange:function(e){return function(e){Ce(e.target.value)}(e)}}),(0,E.jsx)("span",{className:"search-magnifier-icon",children:(0,E.jsx)(Z.Z,{icon:"search"})}),(0,E.jsx)("span",{className:"search-delete-icon d-none",children:(0,E.jsx)(Z.Z,{icon:"close"})})]}),(0,E.jsxs)(m.Z,{variant:"outline-primary",className:"btn-icon btn-icon-start w-100 w-md-auto mb-1 me-3",onClick:function(){return he(!1),le(!1),de(!0),void ve()},children:[(0,E.jsx)(Z.Z,{icon:"plus"})," ",(0,E.jsx)("span",{children:"Add branch"})]})]}),(0,E.jsxs)(d.Z,{md:"7",lg:"8",xxl:"8",className:"mb-1 text-end",children:[(0,E.jsxs)(x.Z,{align:{xs:"end"},className:"d-inline-block ms-1",children:[(0,E.jsx)(h.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,E.jsx)(u.Z,{id:"tooltip-top",children:"Export "}),children:(0,E.jsx)(x.Z.Toggle,{variant:"foreground-alternate",className:"dropdown-toggle-no-arrow btn btn-icon btn-icon-only shadow",children:(0,E.jsx)(Z.Z,{icon:"download"})})}),(0,E.jsxs)(x.Z.Menu,{className:"shadow dropdown-menu-end",children:[(0,E.jsxs)(x.Z.Item,{href:"#",children:[" ",(0,E.jsx)(B.Z,{filename:"branches",extension:".csv",separator:",",wrapColumnChar:"",columns:[{id:"cell1",displayName:"NAME"},{id:"cell2",displayName:"LOCATION"},{id:"cell3",displayName:"SEATS"},{id:"cell4",displayName:"STATE"}],datas:M,children:"Export csv"})]}),(0,E.jsx)(x.Z.Item,{onClick:t,children:"Export pdf"})]})]}),(0,E.jsx)(x.Z,{align:{xs:"end"},className:"d-inline-block ms-1",children:(0,E.jsx)(h.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,E.jsx)(u.Z,{id:"tooltip-top",children:"Item Count"}),children:(0,E.jsxs)(x.Z.Toggle,{variant:"foreground-alternate",className:"shadow sw-13",children:[R.length," Items"]})})})]})]}),(0,E.jsxs)(r.Z,{className:"g-0 h-100 align-content-center d-none d-lg-flex ps-5 pe-5 mb-2 mt-5",children:[(0,E.jsx)(d.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"NAME"})}),(0,E.jsx)(d.Z,{md:"3",className:"d-flex flex-column pe-1 justify-content-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"LOCATION"})}),(0,E.jsx)(d.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"SEATS"})}),(0,E.jsx)(d.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"STATUS"})}),(0,E.jsx)(d.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer ",children:"TOGGLE"})}),(0,E.jsx)(d.Z,{md:"1",className:"d-flex flex-column pe-1 justify-content-center text-center px-1",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer  text-right",children:"Action"})})]}),R.map((function(e){return(0,E.jsx)(j.Z,{className:"mb-2",children:(0,E.jsx)(j.Z.Body,{className:"pt-md-0 pb-md-0 sh-auto sh-md-8",children:(0,E.jsxs)(r.Z,{className:"g-0 h-100 align-content-center cursor-default",children:[(0,E.jsxs)(d.Z,{xs:"12",md:"2",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-1 order-md-2 px-1",children:[(0,E.jsx)("div",{className:"text-muted text-small d-md-none",children:"Name"}),(0,E.jsx)("div",{className:"text-alternate",children:e.name})]}),(0,E.jsxs)(d.Z,{xs:"12",md:"3",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-2 order-md-3 px-1",children:[(0,E.jsx)("div",{className:"text-muted text-small d-md-none",children:"Location"}),(0,E.jsx)("div",{className:"text-alternate",children:(0,E.jsx)("span",{children:e.location})})]}),(0,E.jsxs)(d.Z,{xs:"12",md:"2",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-3 order-md-4 px-1",children:[(0,E.jsx)("div",{className:"text-muted text-small d-md-none",children:"Seats"}),(0,E.jsx)("div",{className:"text-alternate",children:e.seats})]}),(0,E.jsxs)(d.Z,{xs:"6",md:"2",className:"d-flex flex-column justify-content-center mb-2 mb-md-0 order-4 order-md-5 px-1",children:[(0,E.jsx)("div",{className:"text-muted text-small d-md-none",children:"Status"}),(0,E.jsx)("div",{children:e.statusId?(0,E.jsx)(p.Z,{bg:"outline-primary",children:"Active"}):(0,E.jsx)(p.Z,{bg:"outline-warning",children:"Inactive"})})]}),(0,E.jsxs)(d.Z,{xs:"6",md:"2",className:"d-flex flex-column justify-content-center  mb-2 mb-md-0 order-5 px-1 order-md-last",children:[(0,E.jsx)("div",{className:"text-muted text-small d-md-none",children:"Toggle Status"}),(0,E.jsx)(o.Z.Switch,{className:"",type:"checkbox",checked:e.statusId,onChange:function(t){!function(e,t){var s=e.target.checked;s||J((0,A.Vj)(t)).then((function(e){200===e.status&&(k.Am.success("Status changed"),J((0,A.wV)({id:t,value:s})))})),s&&J((0,A.Ij)(t)).then((function(e){200===e.status&&(k.Am.success("Status changed"),J((0,A.wV)({id:t,value:s})))}))}(t,e.id)}})]}),(0,E.jsx)(d.Z,{xs:"12",md:"1",className:"d-flex flex-column justify-content-center align-items-md-end mb-2 mb-md-0 order-last text-end order-md-last",children:(0,E.jsx)(m.Z,{variant:"primary",type:"button",size:"sm",onClick:function(){return t=e,de(!1),he(!0),le(!1),be(t),void ve();var t},className:"",children:"View"})})]})})},e.id)})),R.length?(0,E.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,E.jsxs)(b.Z,{children:[(0,E.jsx)(b.Z.Prev,{className:"shadow",disabled:1===W,onClick:function(){1!==W&&X(W-1)},children:(0,E.jsx)(Z.Z,{icon:"chevron-left"})}),(0,E.jsx)(b.Z.Next,{className:"shadow",onClick:function(){R.length<15||X(W+1)},disabled:R.length<15,children:(0,E.jsx)(Z.Z,{icon:"chevron-right"})})]})}):"",!R.length&&(0,E.jsx)("div",{className:"text-center p-4 text-muted",children:"No data available"}),(0,E.jsxs)(f.Z,{className:"modal-right scroll-out-negative",show:q,onHide:function(){return P(!1)},scrollable:!0,dialogClassName:"full",children:[(0,E.jsx)(f.Z.Header,{closeButton:!0,children:(0,E.jsxs)(f.Z.Title,{as:"h5",children:[re&&"Add new branch",ae&&"Update new branch",xe&&"Branch Information"]})}),(0,E.jsx)(f.Z.Body,{children:(0,E.jsxs)(g.E,{options:{overflowBehavior:{x:"hidden",y:"scroll"}},className:"scroll-track-visible",children:[re&&(0,E.jsxs)("form",{onSubmit:Ze,children:[(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Branch name"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"name",onChange:ge,value:ye.name}),we.name&&Se.name&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:we.name})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Branch location"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"location",onChange:ge,value:ye.location}),we.location&&Se.location&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:we.location})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"State"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"state",onChange:ge,value:ye.state}),we.state&&Se.state&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:we.state})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Seats"}),(0,E.jsx)(o.Z.Control,{type:"number",name:"seats",onChange:ge,value:ye.seats}),we.seats&&Se.seats&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:we.seats})]}),(0,E.jsx)(m.Z,{variant:"primary",type:"submit",disabled:U,className:"btn-icon btn-icon-start w-100",children:U?(0,E.jsx)(v.Z,{animation:"border",role:"status",size:"sm",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})]}),ae&&(0,E.jsxs)("form",{onSubmit:function(e){return function(e){F(!0),e.preventDefault(),J((0,A.o_)(pe))}(e)},children:[(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Branch name"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"name",onChange:function(e){return ke(e)},value:pe.name})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Branch location"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"location",onChange:function(e){return ke(e)},value:pe.location})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"State"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"state",onChange:function(e){return ke(e)},value:pe.state})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(o.Z.Label,{children:"Seats"}),(0,E.jsx)(o.Z.Control,{type:"text",name:"seats",onChange:function(e){return ke(e)},value:pe.seats})]}),(0,E.jsx)(m.Z,{variant:"primary",type:"submit",disabled:U,className:"btn-icon btn-icon-start w-100",children:U?(0,E.jsx)(v.Z,{animation:"border",role:"status",size:"sm",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})]}),xe&&pe&&(0,E.jsxs)("div",{className:"",children:[(0,E.jsx)("table",{className:"mb-5 w-100",children:(0,E.jsxs)("tbody",{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom py-2 px-1 border-bottom text-uppercase text-muted",children:" Name"}),(0,E.jsx)("td",{className:" py-2 px-1 border-bottom",children:pe.name})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"Location"}),(0,E.jsx)("td",{className:" py-2 px-1 border-bottom",children:pe.location})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"State"}),(0,E.jsx)("td",{className:" py-2 px-1 border-bottom",children:pe.state})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"status"}),(0,E.jsx)("td",{className:" py-2 px-1 border-bottom",children:pe.status})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 px-1 border-bottom text-uppercase text-muted",children:"Seats "}),(0,E.jsx)("td",{className:" py-2 px-1 border-bottom",children:pe.seats})]})]})}),(0,E.jsxs)("div",{className:"text-center",children:[(0,E.jsxs)(m.Z,{variant:"outline-primary",size:"sm",className:"btn-icon btn-icon-start  mb-1 me-3",onClick:function(){return e=pe,de(!1),he(!1),le(!0),void be(e);var e},children:[(0,E.jsx)(Z.Z,{icon:"edit",size:"13"})," ",(0,E.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,E.jsxs)(m.Z,{variant:"outline-danger",size:"sm",className:"btn-icon btn-icon-start  mb-1",onClick:function(){return e=pe.id,void(window.confirm("Are you sure?")&&J((0,A.NA)(e)).then((function(e){200===e.status&&(k.Am.success("Branch removed"),J((0,A.C_)(W,ee)),ve(),de(!1),he(!1),le(!1))})));var e},children:[(0,E.jsx)(Z.Z,{icon:"bin",className:"text-small",size:"13"})," ",(0,E.jsx)("span",{className:"sr-only",children:"Delete"})]})]})]})]})})]})]})}},9582:function(e,t,s){var n=s(1413),a=s(5987),l=s(6123),c=s.n(l),i=s(7313),r=s(8524),d=s(6417),o=["bsPrefix","bg","pill","text","className","as"],m=i.forwardRef((function(e,t){var s=e.bsPrefix,l=e.bg,i=e.pill,m=e.text,x=e.className,h=e.as,u=void 0===h?"span":h,j=(0,a.Z)(e,o),p=(0,r.vE)(s,"badge");return(0,d.jsx)(u,(0,n.Z)((0,n.Z)({ref:t},j),{},{className:c()(x,p,i&&"rounded-pill",m&&"text-".concat(m),l&&"bg-".concat(l))}))}));m.displayName="Badge",m.defaultProps={bg:"primary",pill:!1},t.Z=m},4030:function(e,t,s){var n=s(1413),a=s(5987),l=s(6123),c=s.n(l),i=s(7313),r=s(8524),d=s(6417),o=["bsPrefix","variant","animation","size","as","className"],m=i.forwardRef((function(e,t){var s=e.bsPrefix,l=e.variant,i=e.animation,m=e.size,x=e.as,h=void 0===x?"div":x,u=e.className,j=(0,a.Z)(e,o);s=(0,r.vE)(s,"spinner");var p="".concat(s,"-").concat(i);return(0,d.jsx)(h,(0,n.Z)((0,n.Z)({ref:t},j),{},{className:c()(u,p,m&&"".concat(p,"-").concat(m),l&&"text-".concat(l))}))}));m.displayName="Spinner",t.Z=m}}]);