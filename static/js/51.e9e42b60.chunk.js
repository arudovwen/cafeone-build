"use strict";(self.webpackChunkcafeone=self.webpackChunkcafeone||[]).push([[51],{112:function(e,t,s){var a=s(182),n=(s(7313),s(6417));t.Z=function(e){var t=e.title,s=void 0===t?"":t,r=e.description,l=void 0===r?"":r,i=e.children,d=void 0===i?null:i;return(0,n.jsxs)(a.q,{children:[s&&(0,n.jsx)("title",{children:s}),l&&(0,n.jsx)("meta",{name:"description",content:l}),d&&d]})}},6051:function(e,t,s){s.r(t);var a=s(4942),n=s(1413),r=s(885),l=s(7313),i=s(8303),d=s(3849),c=s(1616),o=s(3298),m=s(7533),x=s(9600),u=s(975),h=s(5668),p=s(3060),b=s(8804),j=s(1419),f=s(4030),N=s(112),y=s(6023),v=s(8074),Z=s(6352),g=s(6834),S=s(9429),D=s(3560),w=(s(8282),s(6576)),C=s(3614),T=s(1378),k=s.n(T),I=(s(2632),s(816)),Y=s.n(I),L=s(3145),B=s(3295),M=s(2272),P=s(9251),A=s(6460),E=s(6417),q=(0,l.forwardRef)((function(e,t){var s=(0,Z.v9)((function(e){return e.bookings.items}));return(0,E.jsx)("div",{ref:t,style:{padding:"20px"},children:(0,E.jsxs)("table",{align:"left",border:"1",cellSpacing:"5",cellPadding:"15",style:{border:"1px solid #ccc"},children:[(0,E.jsx)("thead",{className:"",children:(0,E.jsxs)("tr",{align:"left",children:[(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium",children:"Type"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium",children:"Name"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Date"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Branch"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Plan"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Amount"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Payment status"})}),(0,E.jsx)("th",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-muted text-medium ",children:"Booking status"})})]})}),(0,E.jsx)("tbody",{children:s.map((function(e){return(0,E.jsxs)("tr",{className:"mb-2",children:[(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate ",children:e.type})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate",children:(0,E.jsx)("span",{children:e.member.name})})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{className:"text-alternate",children:Y()(e.startDate).format("ll")})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:"".concat(e.branch)})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:e.plan})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:e.amountPaid})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:e.paymentStatus})}),(0,E.jsx)("td",{style:{borderBottom:"1px solid #ccc",padding:"4px 5px"},children:(0,E.jsx)("div",{children:e.status})})]},e.id)}))})]})})}));t.default=function(){var e=(0,l.useRef)(),t=(0,B.useReactToPrint)({content:function(){return e.current}}),s=l.useState(!1),T=(0,r.Z)(s,2),I=T[0],z=T[1],O="Bookings ",R=(0,l.useState)(!1),F=(0,r.Z)(R,2),U=F[0],_=F[1],H=(0,Z.v9)((function(e){return e.bookings.items})),G=(0,Z.v9)((function(e){return e.branches.branches})).map((function(e){return{value:e.id,name:e.name,seats:e.seats}})),V=(0,l.useState)([]),K=(0,r.Z)(V,2),W=K[0],J=K[1],Q=l.useState(0),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],te=l.useState(!1),se=(0,r.Z)(te,2),ae=se[0],ne=se[1],re=(0,l.useState)(""),le=(0,r.Z)(re,2),ie=le[0],de=le[1],ce=l.useState({email:"",phoneNumber:"",firstName:"",lastName:"",amountDue:"",branchId:"",startTime:"",planType:"",startDate:null,paymentStatus:""}),oe=(0,r.Z)(ce,2),me=oe[0],xe=oe[1],ue=(0,Z.v9)((function(e){return e.members.items})).map((function(e){var t="".concat(e.firstName," ").concat(e.lastName);return{value:e.id,name:t,branch:e.branch,branchId:e.branchId}})),he=l.useState(0),pe=(0,r.Z)(he,2),be=pe[0],je=pe[1],fe=(0,Z.v9)((function(e){return e.bookings.status})),Ne=(0,l.useState)(null),ye=(0,r.Z)(Ne,2),ve=ye[0],Ze=ye[1],ge=(0,l.useState)(null),Se=(0,r.Z)(ge,1)[0],De=(0,l.useState)([]),we=(0,r.Z)(De,2),Ce=we[0],Te=we[1],ke=(0,l.useState)([]),Ie=(0,r.Z)(ke,2),Ye=Ie[0],Le=Ie[1],Be=(0,Z.I0)(),Me=(0,l.useState)(1),Pe=(0,r.Z)(Me,2),Ae=Pe[0],Ee=Pe[1],qe=(0,l.useState)(""),ze=(0,r.Z)(qe,1)[0],Oe=(0,l.useState)(!1),Re=(0,r.Z)(Oe,2),Fe=Re[0],Ue=Re[1],_e=(0,l.useState)(!1),He=(0,r.Z)(_e,2),Ge=He[0],Ve=He[1],Ke=(0,l.useState)(!1),We=(0,r.Z)(Ke,2),Je=We[0],Qe=We[1],Xe=(0,l.useState)({}),$e=(0,r.Z)(Xe,2),et=$e[0],tt=$e[1],st=(0,l.useState)(null),at=(0,r.Z)(st,1)[0],nt=(0,l.useState)(null),rt=(0,r.Z)(nt,1)[0],lt=(0,l.useState)(null),it=(0,r.Z)(lt,2),dt=it[0],ct=it[1],ot=(0,l.useState)(null),mt=(0,r.Z)(ot,2),xt=mt[0],ut=mt[1],ht=(0,l.useState)(null),pt=(0,r.Z)(ht,2)[1],bt=(0,l.useState)(null),jt=(0,r.Z)(bt,2)[1],ft=(0,l.useState)(null),Nt=(0,r.Z)(ft,2),yt=Nt[0],vt=Nt[1],Zt=(0,l.useState)(null),gt=(0,r.Z)(Zt,2),St=gt[0],Dt=gt[1],wt=(0,l.useState)(null),Ct=(0,r.Z)(wt,2)[1],Tt=(0,l.useState)(null),kt=(0,r.Z)(Tt,2),It=kt[0],Yt=kt[1];l.useEffect((function(){Be((0,M.aL)(Ae,ze)),Be((0,P.Zw)(Ae,ze,50)),Be((0,A.C_)(Ae,ze,50)),Be((0,M.cs)()).then((function(e){Le(e.data)})),Be((0,M.zh)()).then((function(e){Te(e.data)}))}),[Be,Ae,ze]);var Lt=g.Ry().shape({startDate:g.Z_().required("Start date is required"),memberId:g.Z_().required("Member is required"),planType:g.Z_().required("Plan type is required"),paymentStatus:g.Z_().required("Payment status is required"),seats:g.Rx().required("Seats is required")}),Bt=function(){_(!U)},Mt=(0,S.TA)({initialValues:{seats:0,memberId:"",branchId:"",planType:"",startDate:null,paymentStatus:""},validationSchema:Lt,onSubmit:function(e){e.seats?(z(!0),e.startDate=Y()(e.startDate).format("YYYY-MM-DD"),Be((0,M.mv)(e))):D.Am.error("Seats cannot be 0")}}),Pt=Mt.handleSubmit,At=Mt.handleChange,Et=Mt.values,qt=Mt.touched,zt=Mt.errors;function Ot(e){var t=new C.default(e,{keys:["name","groupName","items.name"],threshold:.3});return function(s){return s.length?t.search(s).map((function(e){return e.item})):e}}function Rt(e){tt((0,n.Z)((0,n.Z)({},et),{},(0,a.Z)({},e.target.name,e.target.value)))}function Ft(e){xe((0,n.Z)((0,n.Z)({},me),{},(0,a.Z)({},e.target.name,e.target.value)))}function Ut(e){Et.branchId=e;var t=G.find((function(t){return t.value==e}));ee(t.seats),Et.seats=0}function _t(e){var t=Y()(new Date),s=Y()(e);return t.isSame(s,"date")}l.useEffect((function(){"success"===fe&&(_(!1),Yt(!1),z(!1),Et.seats=0,Et.memberId="",Et.branchId="",Et.planType="",Et.startDate=null,Et.paymentStatus="",Ze(null)),"update"===fe&&(z(!1),Be((0,M.aL)(1,"")),_(!1),Yt(!1),tt({name:"",amount:"",validityPeriod:0,validityPeriodTypeId:1,description:""})),"error"===fe&&z(!1)}),[fe,Be]);var Ht=new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN",currencyDisplay:"narrowSymbol"});function Gt(e,t){"clockOut"===t?Be((0,M.aI)(e)).then((function(e){200===e.status&&(Be((0,M.aL)(Ae,ze)),D.Am.success("Checked out successful"),Be((0,M.lx)(et.id)).then((function(e){tt(e.data)})))})):Be((0,M.FD)(e)).then((function(e){200===e.status&&(D.Am.success("Checked in successful"),Be((0,M.aL)(Ae,ze)),Be((0,M.lx)(et.id)).then((function(e){tt(e.data)})))}))}l.useEffect((function(){var e=H.map((function(e){return{cell1:e.id,cell2:e.member.id,cell3:e.member.name,cell4:"".concat(e.branch),cell5:e.startDate,cell6:e.paymentStatus,cell7:Ht.format(e.amountPaid),cell9:e.seatCount,cell10:e.plan,cell11:e.type,cell12:e.status,cell13:Y()(e.dateCreated).format("llll")}}));J(e)}),[H]);function Vt(e){!function(e){Et.memberId=e}(e),Yt(!1),Be((0,P.L)(e)).then((function(t){Et.branchId=t.data.branchId,Ut(t.data.branchId),Ct(e)}))}return l.useEffect((function(){Be(at&&rt?(0,M.aL)(Ae,ze,Y()(at).format("YYYY-MM-DD"),Y()(rt).format("YYYY-MM-DD")):(0,M.aL)(Ae,ze))}),[at,rt]),l.useEffect((function(){Be((0,M.aL)(Ae,ze,Y()(dt).format("YYYY-MM-DD"),Y()(xt).format("YYYY-MM-DD"),yt,St,ie))}),[yt,St,dt,xt,ie]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(N.Z,{title:O,description:"Bookings Page"}),(0,E.jsxs)("div",{className:"page-title-container",children:[(0,E.jsx)("div",{style:{display:"none"},children:(0,E.jsx)(q,{ref:e})}),(0,E.jsx)(d.Z,{className:"g-0",children:(0,E.jsxs)(c.Z,{className:"col-auto mb-3 mb-sm-0 me-auto",children:[(0,E.jsxs)(i.OL,{className:"muted-link pb-1 d-inline-block hidden breadcrumb-back",to:"/",children:[(0,E.jsx)(y.Z,{icon:"chevron-left",size:"13"}),(0,E.jsx)("span",{className:"align-middle text-small ms-1",children:"Home"})]}),(0,E.jsx)("h1",{className:"mb-0 pb-0 display-4",id:"title",children:O})]})})]}),(0,E.jsxs)(d.Z,{className:"mb-4",children:[(0,E.jsxs)(c.Z,{xs:"7",md:"6",lg:"6",xxl:"6",className:"mb-1 d-flex align-items-center ",children:[(0,E.jsxs)(o.Z,{variant:"outline-primary",size:"sm",className:"btn-icon btn-icon-start w-100 w-md-auto mb-1 me-3",onClick:function(){return Qe(!1),Ue(!1),ne(!1),Ve(!0),void Bt()},children:[(0,E.jsx)(y.Z,{icon:"plus",size:"12"})," ",(0,E.jsx)("span",{className:"",children:"Add booking"})]}),(0,E.jsxs)(o.Z,{variant:"outline-primary",size:"sm",className:"btn-icon btn-icon-start w-100 w-md-auto mb-1 ",onClick:function(){return Ve(!1),Qe(!1),Ue(!1),ne(!0),void Bt()},children:[(0,E.jsx)(y.Z,{icon:"plus",size:"12"})," ",(0,E.jsx)("span",{className:"",children:"Add event"})]})]}),(0,E.jsxs)(c.Z,{xs:"5",md:"6",lg:"6",xxl:"6",className:"mb-1  d-flex justify-content-end align-items-center",children:[(0,E.jsx)("div",{children:(0,E.jsxs)(m.Z.Select,{value:ie,onChange:function(e){return de(e.target.value)},children:[(0,E.jsxs)("option",{disabled:!0,value:"",children:["Filter by type"," "]}),(0,E.jsx)("option",{value:"",children:"Both"}),(0,E.jsx)("option",{value:1,children:"Coworking "}),(0,E.jsx)("option",{value:2,children:"Event "})]})}),(0,E.jsxs)(x.Z,{align:{xs:"end"},className:"d-none d-md-inline-block ms-1",children:[(0,E.jsx)(u.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,E.jsx)(h.Z,{id:"tooltip-top",children:"Export "}),children:(0,E.jsx)(x.Z.Toggle,{variant:"foreground-alternate",className:"dropdown-toggle-no-arrow btn btn-icon btn-icon-only shadow",children:(0,E.jsx)(y.Z,{icon:"download"})})}),(0,E.jsxs)(x.Z.Menu,{className:"shadow dropdown-menu-end",children:[(0,E.jsxs)(x.Z.Item,{href:"#",children:[" ",(0,E.jsx)(L.Z,{filename:"bookings",extension:".csv",separator:",",wrapColumnChar:"",columns:[{id:"cell1",displayName:"BOOKINGID"},{id:"cell2",displayName:"MEMBERID"},{id:"cell3",displayName:"NAME"},{id:"cell4",displayName:"BRANCH"},{id:"cell5",displayName:"START-DATE"},{id:"cell6",displayName:"PAYMENT-STATUS"},{id:"cell7",displayName:"AMOUNT"},{id:"cell9",displayName:"SEATS"},{id:"cell10",displayName:"PLAN"},{id:"cell11",displayName:"TYPE"},{id:"cell12",displayName:"STATUS"},{id:"cell13",displayName:"DATE CREATED"}],datas:W,children:"Export csv"})]}),(0,E.jsx)(x.Z.Item,{onClick:t,children:"Export pdf"})]})]}),(0,E.jsx)(x.Z,{align:{xs:"end"},className:"d-none d-md-inline-block ms-1",children:(0,E.jsx)(u.Z,{delay:{show:1e3,hide:0},placement:"top",overlay:(0,E.jsx)(h.Z,{id:"tooltip-top",children:"Item Count"}),children:(0,E.jsxs)(x.Z.Toggle,{variant:"foreground-alternate",className:"shadow sw-13",children:[H.length," Items"]})})})]})]}),(0,E.jsxs)(d.Z,{className:"mb-4 justify-content-between mb-2 mb-lg-1",children:[(0,E.jsx)(c.Z,{xs:"12",md:"5",className:"mb-2 mb-md:0",children:(0,E.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,E.jsx)(k(),{className:"border rounded-sm px-2 px-lg-3 py-2 py-lg-2 text-muted me-2 w-100",selected:dt,onChange:function(e){return ct(e)},selectsStart:!0,startDate:dt,endDate:xt,isClearable:!0,placeholderText:"Start Date From"}),(0,E.jsx)(k(),{selected:xt,onChange:function(e){return ut(e)},selectsEnd:!0,startDate:dt,endDate:xt,minDate:dt,isClearable:!0,placeholderText:"Start Date To",className:"border rounded-sm px-2 px-lg-3 py-2 py-lg-2 text-muted me-2 w-100"})]})}),(0,E.jsx)(c.Z,{xs:"12",md:"5",children:(0,E.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,E.jsx)(w.Z,{filterOptions:function(){return Ot(ue)},options:ue,search:!0,name:"members",value:yt,onChange:function(e){return vt(e)},placeholder:"Filter by  member"}),(0,E.jsx)(w.Z,{filterOptions:function(){return Ot(G)},options:G,search:!0,name:"branchId",value:St,placeholder:"Filter by  branch",onChange:function(e){return Dt(e)}})]})}),(0,E.jsx)(c.Z,{xs:"4",md:"2",className:"d-flex align-items-center justify-content-center mt-3 mt-md-0",children:(0,E.jsxs)("span",{onClick:function(){return ct(null),ut(null),pt(null),jt(null),vt(null),Dt(null),Yt(!1),void de("")},className:"cursor-pointer d-flex align-items-center",children:[(0,E.jsx)("span",{className:"me-1",children:"Reset filter"})," ",(0,E.jsx)(y.Z,{icon:"refresh-horizontal",size:"13"})]})})]}),(0,E.jsxs)(d.Z,{className:"g-0 h-100 align-content-center d-none d-lg-none ps-5 pe-5 mb-2 custom-sort",children:[(0,E.jsx)(c.Z,{md:"3",className:"d-flex flex-column pe-1 justify-content-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"NAME"})}),(0,E.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"DATE"})}),(0,E.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"PLAN"})}),(0,E.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"PAID STATUS"})}),(0,E.jsx)(c.Z,{md:"2",className:"d-flex flex-column pe-1 justify-content-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"AMOUNT"})}),(0,E.jsx)(c.Z,{md:"1",className:"d-flex flex-column pe-1 justify-content-center text-center",children:(0,E.jsx)("div",{className:"text-muted text-small cursor-pointer sort",children:"Action"})})]}),(0,E.jsx)(d.Z,{className:"mt-5",children:H.map((function(e){return(0,E.jsx)(c.Z,{xs:"12",md:"6",lg:"4",className:"mb-3",children:(0,E.jsx)(p.Z,{className:"mb-2",children:(0,E.jsxs)(p.Z.Body,{className:"px-3 py-3",children:[(0,E.jsx)("table",{className:"w-full",children:(0,E.jsxs)("tbody",{children:[(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Type :"}),(0,E.jsx)("td",{className:"text-capitalize text-alternate border-bottom py-2",children:e.type})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"name :"}),(0,E.jsx)("td",{className:"text-alternate border-bottom py-2",children:e.member.name})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Date :"}),(0,E.jsx)("td",{className:"text-alternate border-bottom py-2",children:(0,E.jsx)("span",{children:Y()(e.startDate).format("ll")})})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Amount :"}),(0,E.jsx)("td",{className:"text-alternate text-alternate border-bottom py-2",children:(0,E.jsx)("span",{children:Ht.format(e.amountPaid)})})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Plan :"}),(0,E.jsx)("td",{className:"text-capitalize text-alternate border-bottom py-2",children:e.plan.toLowerCase()})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Payment Status :"}),(0,E.jsxs)("td",{className:"text-capitalize text-alternate border-bottom py-2",children:[" ",e.paymentStatus.toLowerCase()]})]}),(0,E.jsxs)("tr",{className:"",children:[(0,E.jsx)("td",{className:"text-muted  text-uppercase border-bottom py-2",children:"Status :"}),(0,E.jsxs)("td",{className:"text-capitalize text-alternate border-bottom py-2",children:[" ",e.status.toLowerCase()]})]})]})}),(0,E.jsx)("div",{className:"d-flex  justify-content-end align-items-md-center mt-2",children:(0,E.jsx)(o.Z,{variant:"primary",type:"button",size:"sm",onClick:function(){return t=e,void Be((0,M.lx)(t.id)).then((function(e){Ve(!1),Ue(!1),ne(!1),tt(e.data),Qe(!0),Bt()}));var t},className:"",children:"View"})})]})})},e.id)}))}),H.length?(0,E.jsx)("div",{className:"d-flex justify-content-center mt-5",children:(0,E.jsxs)(b.Z,{children:[(0,E.jsx)(b.Z.Prev,{className:"shadow",disabled:1===Ae,onClick:function(){1!==Ae&&Ee(Ae-1)},children:(0,E.jsx)(y.Z,{icon:"chevron-left"})}),(0,E.jsx)(b.Z.Next,{className:"shadow",onClick:function(){H.length<15||Ee(Ae+1)},disabled:H.length<15,children:(0,E.jsx)(y.Z,{icon:"chevron-right"})})]})}):"",!H.length&&(0,E.jsx)("div",{className:"text-center p-4 text-muted",children:"No data available"}),(0,E.jsxs)(j.Z,{className:"modal-right scroll-out-negative",show:U,onHide:function(){return _(!1)},scrollable:!0,dialogClassName:"full",children:[(0,E.jsx)(j.Z.Header,{closeButton:!0,children:(0,E.jsxs)(j.Z.Title,{as:"h5",children:[Ge&&"Add new booking",Fe&&"Update new booking",Je&&"Booking Information",ae&&"Event Booking"]})}),(0,E.jsx)(j.Z.Body,{children:(0,E.jsxs)(v.E,{options:{overflowBehavior:{x:"hidden",y:"scroll"}},className:"scroll-track-visible",children:[Ge&&(0,E.jsxs)("form",{onSubmit:Pt,children:[(0,E.jsx)("p",{className:"text-medium mb-3 text-primary",children:"Fields with (*) are required"}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsxs)(m.Z.Label,{children:["Member ",(0,E.jsx)("span",{className:"text-danger",children:"*"})]}),(0,E.jsx)(w.Z,{filterOptions:function(){return Ot(ue)},options:ue,search:!0,name:"members",value:Et.memberId,onChange:function(e){return Vt(e)},placeholder:"Select  member"}),zt.memberId&&qt.memberId&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.memberId})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsxs)(m.Z.Label,{children:["Branch ",(0,E.jsx)("span",{className:"text-danger",children:"*"})]}),(0,E.jsx)(w.Z,{filterOptions:function(){return Ot(G)},options:G,search:!0,name:"branch",value:Et.branchId,placeholder:"Select  branch",onChange:function(e){Ut(e),Yt(!1)}}),zt.branchId&&qt.branchId&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.branchId})]}),(0,E.jsx)(d.Z,{children:(0,E.jsx)(c.Z,{md:"12",children:(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Start Date"}),(0,E.jsx)("div",{className:"d-flex justify-content-between align-items-center w-100",children:(0,E.jsx)(k(),{className:"border rounded-sm px-2 py-1 w-100",selected:ve,onChange:function(e){Et.startDate=e,Ze(e),Yt(!1)},selectsStart:!0,startDate:ve,minDate:new Date,endDate:Se,placeholderText:"Select a date"})}),zt.startDate&&qt.startDate&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.startDate})]})})}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Plan type"}),(0,E.jsxs)(m.Z.Select,{type:"text",name:"planType",onChange:At,value:Et.planType,children:[(0,E.jsx)("option",{value:"",disabled:!0,children:"Select plan"}),Ce.map((function(e){return(0,E.jsx)("option",{value:Number(e.id),children:e.name},e.id)}))]}),zt.planType&&qt.planType&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.planType})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-end mb-5",children:[" ",(0,E.jsx)(o.Z,{type:"button",size:"sm",variant:"outline-primary",onClick:function(){return function(){var e={branchId:Et.branchId,fromDate:Y()(Et.startDate).format("YYYY-MM-DD"),toDate:null};1===Number(Et.planType)&&(e.toDate=Y()(Et.startDate).add().format("YYYY-MM-DD")),2===Number(Et.planType)&&(e.toDate=Y()(Et.startDate).add(7,"days").format("YYYY-MM-DD")),3===Number(Et.planType)&&(e.toDate=Y()(Et.startDate).add(30,"days").format("YYYY-MM-DD")),Be((0,M.BN)(e)).then((function(e){var t=e.data.map((function(e){return e.seats})).sort().pop();je(t),Yt(!0)}))}()},children:"Check seats"})]}),It&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{className:"mb-0",children:"Select seat(s)"}),(0,E.jsx)("div",{className:"text-medium text-muted",children:"Maximum seats : ".concat($)}),(0,E.jsx)("div",{className:"text-medium text-muted",children:"Available seats : ".concat($-be)}),(0,E.jsxs)("div",{className:"d-flex align-items-center",children:[" ",(0,E.jsx)("input",{disabled:!$,type:"range",required:!0,min:"0",max:$-be,name:"seats",onChange:At,value:Et.seats}),(0,E.jsx)("div",{className:"me-3 px-3 py-2",children:Et.seats})]}),zt.seats&&qt.seats&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.seats})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Payment status"}),(0,E.jsxs)(m.Z.Select,{type:"text",name:"paymentStatus",onChange:At,value:Et.paymentStatus,children:[(0,E.jsx)("option",{value:"",disabled:!0,children:"Select type"}),Ye.map((function(e){return(0,E.jsx)("option",{value:Number(e.id),children:e.name},e.id)}))]}),zt.paymentStatus&&qt.paymentStatus&&(0,E.jsx)("div",{className:"d-block invalid-tooltip",children:zt.paymentStatus})]}),(0,E.jsx)(o.Z,{variant:"primary",type:"submit",disabled:I,className:"btn-icon btn-icon-start w-100",children:I?(0,E.jsx)(f.Z,{animation:"border",role:"status",size:"sm",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})]})]}),ae&&(0,E.jsxs)("form",{onSubmit:function(e){return function(e){z(!0),e.preventDefault(),z(!0),me.startDate=Y()(me.startDate).format("YYYY-MM-DD"),me.planType=1,Be((0,M.Bx)(me))}(e)},children:[(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"First name"}),(0,E.jsx)(m.Z.Control,{required:!0,type:"text",name:"firstName",onChange:function(e){return Ft(e)},value:me.firstName})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Last name"}),(0,E.jsx)(m.Z.Control,{required:!0,type:"text",id:"lastName",name:"lastName",onChange:function(e){return Ft(e)},value:me.lastName})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Email"}),(0,E.jsx)(m.Z.Control,{required:!0,type:"email",id:"email",name:"email",onChange:function(e){return Ft(e)},value:me.email})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Phone number"}),(0,E.jsx)(m.Z.Control,{required:!0,type:"number",id:"phoneNumber",name:"phoneNumber",onChange:function(e){return Ft(e)},value:me.phoneNumber})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Amount due"}),(0,E.jsx)(m.Z.Control,{required:!0,type:"number",id:"amountDue",name:"amountDue",onChange:function(e){return Ft(e)},value:me.amountDue})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Branch"}),(0,E.jsx)(w.Z,{required:!0,filterOptions:function(){return Ot(G)},options:G,search:!0,name:"branch",value:me.branchId,placeholder:"Select  branch",onChange:function(e){Ut(e),me.branchId=e}})]}),(0,E.jsx)(d.Z,{children:(0,E.jsx)(c.Z,{md:"5",children:(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Start Date"}),(0,E.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,E.jsx)(k(),{className:"border rounded-sm px-2 py-1",selected:ve,onChange:function(e){me.startTime=Y()(e).format("hh:mm"),me.startDate=e,Ze(e)},selectsStart:!0,startDate:ve,minDate:new Date,endDate:Se,required:!0,placeholderText:"Select a date"})})]})})}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Payment status"}),(0,E.jsxs)(m.Z.Select,{required:!0,type:"text",name:"paymentStatus",onChange:function(e){return Ft(e)},value:me.paymentStatus,children:[(0,E.jsx)("option",{value:"",disabled:!0,children:"Select status"}),Ye.map((function(e){return(0,E.jsx)("option",{value:Number(e.id),children:e.name},e.id)}))]})]}),(0,E.jsx)(o.Z,{variant:"primary",type:"submit",disabled:I,className:"btn-icon btn-icon-start w-100",children:I?(0,E.jsx)(f.Z,{animation:"border",role:"status",size:"sm",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})]}),Fe&&(0,E.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),z(!0),Be((0,M.Wp)(et))}(e)},children:[(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Branch"}),(0,E.jsx)(w.Z,{filterOptions:function(){return Ot(G)},options:G,search:!0,name:"branch",value:et.branchId,placeholder:"Select  branch",onChange:function(e){Ut(e),et.branchId=e}})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsxs)(m.Z.Label,{className:"mb-0",children:["Select seat(s) ",(0,E.jsxs)("span",{className:"text-small",children:[" (Member & branch required, ",et.branchId&&"max:".concat($),")"]})]}),(0,E.jsxs)("div",{className:"d-flex align-items-center",children:[" ",(0,E.jsx)(m.Z.Range,{required:!0,min:"0",max:$,name:"seats",onChange:function(e){return Rt(e)},value:et.seats}),(0,E.jsx)("div",{className:"me-3 px-3 py-2",children:et.seats})]})]}),(0,E.jsx)(d.Z,{children:(0,E.jsx)(c.Z,{md:"5",children:(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Start Date"}),(0,E.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,E.jsx)(k(),{className:"border rounded-sm px-2 py-1",selected:ve,onChange:function(e){Et.startTime=Y()(e).format("hh:mm"),Et.startDate=e,et.startTime=Y()(e).format("hh:mm"),et.startDate=e,Ze(e)},selectsStart:!0,startDate:ve,minDate:new Date,endDate:Se})})]})})}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Plan type"}),(0,E.jsxs)(m.Z.Select,{type:"text",name:"planType",onChange:function(e){return Rt(e)},value:et.planType,children:[(0,E.jsx)("option",{value:"",disabled:!0,children:"Select plan"}),Ce.map((function(e){return(0,E.jsx)("option",{value:Number(e.id),children:e.name},e.id)}))]})]}),(0,E.jsxs)("div",{className:"mb-3",children:[(0,E.jsx)(m.Z.Label,{children:"Payment status"}),(0,E.jsxs)(m.Z.Select,{type:"text",name:"paymentStatus",onChange:function(e){return Rt(e)},value:et.paymentStatus,children:[(0,E.jsx)("option",{value:"",disabled:!0,children:"Select status"}),Ye.map((function(e){return(0,E.jsx)("option",{value:Number(e.id),children:e.name},e.id)}))]})]}),(0,E.jsx)(o.Z,{variant:"primary",type:"submit",disabled:I,className:"btn-icon btn-icon-start w-100",children:I?(0,E.jsx)(f.Z,{animation:"border",role:"status",size:"sm",children:(0,E.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):"Submit"})]}),Je&&et&&(0,E.jsxs)("div",{className:"",children:[(0,E.jsx)("table",{className:"mb-5 w-100",children:(0,E.jsxs)("tbody",{children:[(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Member"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.member.name})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Email"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.member.email})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Phone"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.member.phoneNumber})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom py-2 border-bottom text-uppercase text-muted",children:" Type"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.type})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom py-2 border-bottom text-uppercase text-muted",children:" Branch"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.branch})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom py-2 border-bottom text-uppercase text-muted",children:" Campaign"}),(0,E.jsx)("td",{className:" py-2 border-bottom text-capitalize",children:et.campaign})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom py-2 border-bottom text-uppercase text-muted",children:" Plan"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.plan})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom py-2 border-bottom text-uppercase text-muted",children:" Amount"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:Ht.format(et.amountPaid)})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Start date "}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:Y()(et.startDate).format("ll")})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"End Date"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:Y()(et.endDate).format("ll")})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Seat count"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.seats})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"Payment status"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.paymentStatus})]}),(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{className:"font-weight-bold  py-2 border-bottom text-uppercase text-muted",children:"status"}),(0,E.jsx)("td",{className:" py-2 border-bottom",children:et.status})]})]})}),(0,E.jsx)("div",{children:(0,E.jsxs)("div",{className:"text-center mt-5 ",children:[(0,E.jsx)(o.Z,{variant:"outline-primary",size:"sm",disabled:!_t(et.startDate)||"signed in"===et.status.toLowerCase(),className:"btn-icon btn-icon-start text-primary me-4",onClick:function(){return Gt(et.id,"clockIn")},children:"Check in"}),(0,E.jsx)(o.Z,{variant:"outline-primary",size:"sm",disabled:!_t(et.endDate),className:"btn-icon btn-icon-start text-primary",onClick:function(){return Gt(et.id,"clockOut")},children:"Check out"})]})})]})]})})]})]})}},4030:function(e,t,s){var a=s(1413),n=s(5987),r=s(6123),l=s.n(r),i=s(7313),d=s(8524),c=s(6417),o=["bsPrefix","variant","animation","size","as","className"],m=i.forwardRef((function(e,t){var s=e.bsPrefix,r=e.variant,i=e.animation,m=e.size,x=e.as,u=void 0===x?"div":x,h=e.className,p=(0,n.Z)(e,o);s=(0,d.vE)(s,"spinner");var b="".concat(s,"-").concat(i);return(0,c.jsx)(u,(0,a.Z)((0,a.Z)({ref:t},p),{},{className:l()(h,b,m&&"".concat(b,"-").concat(m),r&&"text-".concat(r))}))}));m.displayName="Spinner",t.Z=m}}]);