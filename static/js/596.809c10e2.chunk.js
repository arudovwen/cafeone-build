"use strict";(self.webpackChunkcafeone=self.webpackChunkcafeone||[]).push([[596],{112:function(e,s,t){var a=t(182),r=(t(7313),t(6417));s.Z=function(e){var s=e.title,t=void 0===s?"":s,n=e.description,l=void 0===n?"":n,i=e.children,c=void 0===i?null:i;return(0,r.jsxs)(a.q,{children:[t&&(0,r.jsx)("title",{children:t}),l&&(0,r.jsx)("meta",{name:"description",content:l}),c&&c]})}},8596:function(e,s,t){t.r(s),t.d(s,{default:function(){return k}});var a=t(885),r=t(7313),n=t(9600),l=t(3849),i=t(1616),c=t(3060),d=t(9582),m=t(8303),o=t(112),x=t(6287),u=t(1881),h=t.n(u),p=t(6352),b=t(6023),f=t(2982),j=t(3393),g=t(1168),y=t(6417),N=function(e){var s=e.statData,t=(0,p.v9)((function(e){return e.settings})).themeValues,n=(0,r.useRef)(null),l=(0,r.useRef)(null),i=r.useState(s.map((function(e){return e.type}))),c=(0,a.Z)(i,2),d=c[0],m=c[1],o=r.useState(s.map((function(e){return e.membershipCount}))),x=(0,a.Z)(o,2),u=x[0],h=x[1];r.useEffect((function(){s.length&&(m(s.map((function(e){return e.type}))),h(s.map((function(e){return e.membershipCount}))))}),[s]);var N=r.useCallback((function(e){var s=e.chart,t=e.tooltip,a="",r="",n="",i="",c=s.canvas.offsetTop,d=s.canvas.offsetLeft,m=t.opacity;if(0!==l.current.opacity){var o="".concat(d+t.dataPoints[0].element.x-75,"px"),x="".concat(c+t.caretY,"px");if(t.body){var u=t.dataPoints[0],h=u.dataIndex,p=u.datasetIndex;a=t.labelColors[0].borderColor,r=s.data.labels[h].toLocaleUpperCase(),n=s.data.datasets[p].data[h],i=s.data.datasets[p].icon}l.current.classList.remove("above","below","no-transform"),t.yAlign?l.current.classList.add(t.yAlign):l.current.classList.add("no-transform"),l.current.style.opacity=m,l.current.style.left=o,l.current.style.top=x,g.render((0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{borderColor:a,borderWidth:1,borderStyle:"solid"},className:"icon-container  d-flex align-middle align-items-center justify-content-center align-self-center rounded-xl sh-5 sw-5 rounded-xl me-3",children:(0,y.jsx)(b.Z,{icon:i,stroke:a})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"text d-flex align-middle text-alternate align-items-center text-small",children:r}),(0,y.jsx)("span",{className:"value d-flex align-middle text-body align-items-center cta-4",children:n})]})]}),l.current)}else l.current.style.opacity=0}),[]),v=r.useMemo((function(){return{font:{size:14,family:t.font},padding:15,usePointStyle:!0,boxWidth:8}}),[t]),Z=r.useMemo((function(){return{labels:d,datasets:[{label:"Membership Types / Subscribers",icon:"burger",borderColor:t.primary,backgroundColor:"rgba(".concat(t.primaryrgb,",0.1)"),data:u}]}}),[t]),k=r.useMemo((function(){return{type:"bar",options:{elements:{bar:{borderWidth:1.5,borderRadius:parseInt(t.borderRadiusMd,10),borderSkipped:!1}},plugins:{crosshair:!1,datalabels:!1,legend:{position:"bottom",labels:v},tooltip:{enabled:!1,external:N},streaming:!1},interaction:{intersect:!0,mode:"point"},responsive:!0,maintainAspectRatio:!1,scales:{y:{min:0,max:100,grid:{display:!0,lineWidth:1,color:t.separatorLight,drawBorder:!1},ticks:{beginAtZero:!0,stepSize:5,padding:5,fontColor:t.alternate}},x:{grid:{display:!1,drawBorder:!1}}}},data:Z}}),[Z,v,N,t]);return(0,r.useEffect)((function(){var e=null;return n&&n.current&&(j.kL.register.apply(j.kL,(0,f.Z)(j.zX)),e=new j.kL(n.current,k)),function(){e&&e.destroy()}}),[k]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("canvas",{ref:n}),(0,y.jsx)("div",{ref:l,className:"custom-tooltip position-absolute bg-foreground rounded-md border border-separator pe-none p-3 d-flex z-index-1 align-items-center opacity-0 basic-transform-transition"})]})},v=r.memo(N),Z=t(7197),k=function(){var e=r.useState({}),s=(0,a.Z)(e,2),t=s[0],u=s[1],f=r.useState([]),j=(0,a.Z)(f,2),g=j[0],N=j[1],k=(0,p.v9)((function(e){return e.transactions.items})),S=(0,p.I0)(),w=new Intl.NumberFormat("en-US",{style:"currency",currency:"NGN",currencyDisplay:"narrowSymbol"});return r.useEffect((function(){h().get("".concat(x.rq,"/reports"),x.hy).then((function(e){200===e.status&&(u(e.data),N(e.data.seatUsage))})),S((0,Z.KF)())}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{title:"Dashboard",description:"Ecommerce Dashboard Page"}),(0,y.jsxs)("div",{className:"page-title-container",children:[(0,y.jsx)(m.OL,{className:"muted-link pb-1 d-inline-block hidden breadcrumb-back",to:"/",children:(0,y.jsx)("span",{className:"align-middle text-small ms-1",children:"\xa0"})}),(0,y.jsx)("h1",{className:"mb-0 pb-0 display-4",id:"title",children:"Welcome!"})]}),(0,y.jsxs)("div",{className:"d-flex",children:[(0,y.jsx)(n.Z,{children:(0,y.jsx)(n.Z.Toggle,{className:"small-title p-0 align-top h-auto me-2",variant:"link",children:"Today's"})}),(0,y.jsx)("h2",{className:"small-title",children:"Stats"})]}),(0,y.jsxs)(l.Z,{className:"mb-5 g-2",children:[(0,y.jsx)(i.Z,{xs:"6",md:"4",lg:"3",children:(0,y.jsx)(c.Z,{className:"h-100 hover-scale-up cursor-pointer",children:(0,y.jsxs)(c.Z.Body,{className:"d-flex flex-column align-items-center",children:[(0,y.jsx)("div",{className:"sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center border border-primary mb-4",children:(0,y.jsx)(b.Z,{icon:"dollar",className:"text-primary"})}),(0,y.jsx)("div",{className:"mb-1 d-flex align-items-center text-alternate text-small lh-1-25",children:"BOOKINGS"}),(0,y.jsx)("div",{className:"text-primary cta-4",children:t&&t.summary&&t.summary.booking})]})})}),(0,y.jsx)(i.Z,{xs:"6",md:"4",lg:"3",children:(0,y.jsx)(c.Z,{className:"h-100 hover-scale-up cursor-pointer",children:(0,y.jsxs)(c.Z.Body,{className:"d-flex flex-column align-items-center",children:[(0,y.jsx)("div",{className:"sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center border border-primary mb-4",children:(0,y.jsx)(b.Z,{icon:"database",className:"text-primary"})}),(0,y.jsx)("div",{className:"mb-1 d-flex align-items-center text-alternate text-small lh-1-25",children:"BRANCHES"}),(0,y.jsx)("div",{className:"text-primary cta-4",children:t&&t.summary&&t.summary.branches})]})})}),(0,y.jsx)(i.Z,{xs:"6",md:"4",lg:"3",children:(0,y.jsx)(c.Z,{className:"h-100 hover-scale-up cursor-pointer",children:(0,y.jsxs)(c.Z.Body,{className:"d-flex flex-column align-items-center",children:[(0,y.jsx)("div",{className:"sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center border border-primary mb-4",children:(0,y.jsx)(b.Z,{icon:"server",className:"text-primary"})}),(0,y.jsx)("div",{className:"mb-1 d-flex align-items-center text-alternate text-small lh-1-25",children:"CAMPAIGNS"}),(0,y.jsx)("div",{className:"text-primary cta-4",children:t&&t.summary&&t.summary.campaigns})]})})}),(0,y.jsx)(i.Z,{xs:"6",md:"4",lg:"3",children:(0,y.jsx)(c.Z,{className:"h-100 hover-scale-up cursor-pointer",children:(0,y.jsxs)(c.Z.Body,{className:"d-flex flex-column align-items-center",children:[(0,y.jsx)("div",{className:"sw-6 sh-6 rounded-xl d-flex justify-content-center align-items-center border border-primary mb-4",children:(0,y.jsx)(b.Z,{icon:"user",className:"text-primary"})}),(0,y.jsx)("div",{className:"mb-1 d-flex align-items-center text-alternate text-small lh-1-25",children:"MEMBERS"}),(0,y.jsx)("div",{className:"text-primary cta-4",children:t&&t.summary&&t.summary.members})]})})})]}),(0,y.jsxs)(l.Z,{className:"mb-5",children:[(0,y.jsxs)(i.Z,{xl:"6",className:"mb-5 mb-xl-0",children:[(0,y.jsx)("h2",{className:"small-title",children:"Recent Transactions"}),k.length?k.map((function(e){return(0,y.jsx)(c.Z,{className:"mb-2 sh-15 sh-md-6",children:(0,y.jsx)(c.Z.Body,{className:"pt-0 pb-0 h-100",children:(0,y.jsxs)(l.Z,{className:"g-0 h-100 align-content-center justify-content-between",children:[(0,y.jsx)(i.Z,{xs:"12",md:"4",className:"d-flex align-items-center mb-3 mb-md-0 h-md-100 px-1",children:(0,y.jsx)("span",{className:"",children:e.member?e.member.name:"-"})}),(0,y.jsx)(i.Z,{xs:"12",md:"4",className:"d-flex align-items-center mb-1 mb-md-0 text-alternate px-1",children:(0,y.jsx)(d.Z,{children:w.format(e.subTotal)})}),(0,y.jsx)(i.Z,{xs:"12",md:"4",className:"d-flex align-items-center mb-1 mb-md-0 text-alternate text-small px-1",children:e.narration})]})})},e.paymnetId)})):(0,y.jsx)("div",{className:"text-center p-3",children:"No recent transaction "})]}),(0,y.jsxs)(i.Z,{xl:"6",className:"d-flex flex-column",children:[(0,y.jsx)("h2",{className:"small-title",children:"Top Booked Spaces"}),(0,y.jsx)("div",{className:"mb-2 rounded-md flex-grow-1",children:g.length?g.map((function(e){return(0,y.jsx)(c.Z,{className:"mb-2 sh-15 sh-md-6",children:(0,y.jsx)(c.Z.Body,{className:"pt-0 pb-0 h-100",children:(0,y.jsxs)(l.Z,{className:"g-0 h-100 align-content-center",children:[(0,y.jsx)(i.Z,{md:"6",className:"d-flex align-items-center mb-2 mb-md-0",children:e.name}),(0,y.jsxs)(i.Z,{md:"6",className:"d-flex align-items-center justify-content-md-end text-muted text-medium",children:[e.bookings," bookings"]})]})})},e.id)})):(0,y.jsx)("div",{className:"text-center p-3",children:"No information available "})})]})]}),(0,y.jsx)(l.Z,{className:"gx-4 gy-5",children:(0,y.jsxs)(i.Z,{className:"mb-5",children:[(0,y.jsx)("h2",{className:"small-title",children:"Membership Stats"}),(0,y.jsx)(c.Z,{className:"sh-45",children:(0,y.jsx)(c.Z.Body,{className:"h-100",children:(0,y.jsx)("div",{className:"h-100",children:t&&t.membershipStats?(0,y.jsx)(v,{statData:t.membershipStats}):""})})})]})})]})}}}]);